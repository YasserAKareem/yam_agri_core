{
  "doctype": "DocType",
  "name": "Season Policy",
  "module": "YAM Agri Core",
  "custom": 1,
  "autoname": "naming_series:",
  "title_field": "policy_name",
  "fields": [
    {
      "fieldname": "naming_series",
      "fieldtype": "Select",
      "label": "Naming Series",
      "options": "YAM-SP-.YYYY.-",
      "default": "YAM-SP-.YYYY.-"
    },
    {"fieldname": "policy_name", "fieldtype": "Data", "label": "Policy Name", "reqd": 1},
    {"fieldname": "site", "fieldtype": "Link", "options": "Site", "label": "Site", "reqd": 1},
    {"fieldname": "crop", "fieldtype": "Link", "options": "Crop", "label": "Crop"},
    {"fieldname": "season", "fieldtype": "Data", "label": "Season", "reqd": 1},
    {
      "fieldname": "mandatory_test_types",
      "fieldtype": "Small Text",
      "label": "Mandatory Test Types",
      "description": "Comma-separated test types, e.g. Moisture,Mycotoxin"
    },
    {
      "fieldname": "mandatory_certificate_types",
      "fieldtype": "Small Text",
      "label": "Mandatory Certificate Types",
      "description": "Comma-separated certificate types"
    },
    {"fieldname": "max_test_age_days", "fieldtype": "Int", "label": "Max Test Age (days)", "default": 7},
    {"fieldname": "enforce_dispatch_gate", "fieldtype": "Check", "label": "Enforce Dispatch Gate", "default": 1},
    {"fieldname": "active", "fieldtype": "Check", "label": "Active", "default": 1},
    {"fieldname": "notes", "fieldtype": "Small Text", "label": "Notes"}
  ],
  "permissions": [
    {"role": "System Manager", "read": 1, "write": 1, "create": 1, "delete": 0},
    {"role": "QA Manager", "read": 1, "write": 1, "create": 1, "delete": 0}
  ]
}
